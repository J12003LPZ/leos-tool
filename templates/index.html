<!DOCTYPE html>
<html>
    <head>
        <title>Text Summarizer</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>
    <body>
        <form action="/summarize" method="post">
            <label for="text">Text:</label>
            <br>
            <textarea id="text" name="text" rows="10" cols="50">{{ text|default('') }}</textarea>
            <br>
            <label for="summary-length">Summary Length:</label>
            <br>
            <label for="summary-length">Summary Length:</label>
            <input type="range"
                   id="summary-length"
                   name="summary-length"
                   min="25"
                   max="100"
                   step="0.25"
                   value="50"
                   oninput="updateRangeLabel()">
            <label id="range-label">50</label>
            <br>
            <br>
            <input type="submit" value="Summarize">
        </form>
        <br>
        <h1>Summary</h1>
        <textarea id="summary" rows="10" cols="50">{{ summary }}</textarea>
        <br>
        <button onclick="copyToClipboard()">Copy to Clipboard</button>
        <script>
        function copyToClipboard() {
            var summary = document.getElementById("summary");
            summary.select();
            document.execCommand("copy");
        }

    function updateRangeLabel() {
  var rangeInput = document.getElementById("summary-length");
  var rangeLabel = document.getElementById("range-label");
  rangeLabel.textContent = parseInt(rangeInput.value);
}

        function updateFormPostValue() {
    var option = document.getElementById("option").value;
    var form_post = document.getElementById("form_post");
    form_post.value = option;
  }
  document.getElementById("option").addEventListener("change", updateFormPostValue);
        </script>
    </body>
</html>
